rm(list=ls())
library(cttools)
library(fslr)
library(plyr)
homedir = "~/"
rootdir = "~/CT_Registration/"
if (Sys.info()[["user"]] %in% "jmuschel") {
homedir = "~"
rootdir = "/dexter/disk2/smart/stroke_ct/ident"
}
homedir = file.path(rootdir, "Rorden_data")
progdir = file.path(rootdir, "programs")
basedir = file.path(rootdir, "Registration")
# scandir = file.path(homedir, "ct_scans")
regdir = file.path(homedir, "registered_ct_scans")
# setwd(homedir)
tempdir = file.path(rootdir, "Template")
atlasdir = file.path(tempdir, "atlases")
outdir = file.path(basedir, "results")
template = file.path(tempdir, "scct_unsmooth.nii.gz")
temp = readNIfTI(template)
dtemp = dim(temp)
maskfile = file.path(tempdir, "scct_mask.nii.gz")
tempmask = readNIfTI(maskfile)
files = list.files(regdir, pattern = ".*SS_.*.nii.gz",
full.names=TRUE)
ifile = 1
files
